<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<meta name="description" content="A toolkit for analyzing electrophysiology data - transform (.asc) files exported
    from Mini Analysis (Synaptosoft) into R data objects; calculate and plot common metrics
    used in neuroscience.">
<title>Mini Analysis Toolkit for R • matools</title>
<script src="deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="deps/bootstrap-5.2.2/bootstrap.min.css" rel="stylesheet">
<script src="deps/bootstrap-5.2.2/bootstrap.bundle.min.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- bootstrap-toc --><script src="https://cdn.jsdelivr.net/gh/afeld/bootstrap-toc@v1.0.1/dist/bootstrap-toc.min.js" integrity="sha256-4veVQbu7//Lk5TSmc7YV48MxtMy98e26cf5MrgZYnwo=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- search --><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- pkgdown --><script src="pkgdown.js"></script><meta property="og:title" content="Mini Analysis Toolkit for R">
<meta property="og:description" content="A toolkit for analyzing electrophysiology data - transform (.asc) files exported
    from Mini Analysis (Synaptosoft) into R data objects; calculate and plot common metrics
    used in neuroscience.">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>
    

    <nav class="navbar fixed-top navbar-dark navbar-expand-lg bg-primary"><div class="container">
    
    <a class="navbar-brand me-2" href="index.html">matools</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">1.0.0</small>

    
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item">
  <a class="nav-link" href="reference/index.html">Reference</a>
</li>
<li class="nav-item dropdown">
  <a href="#" class="nav-link dropdown-toggle" data-bs-toggle="dropdown" role="button" aria-expanded="false" aria-haspopup="true" id="dropdown-articles">Articles</a>
  <div class="dropdown-menu" aria-labelledby="dropdown-articles">
    <a class="dropdown-item" href="articles/workflow_evoked_ap.html">Example Workflow: Evoked Action Potentials</a>
    <a class="dropdown-item" href="articles/workflow_evoked_psp.html">Example Workflow: Evoked Postsynaptic Potentials (or Currents)</a>
  </div>
</li>
      </ul>
<form class="form-inline my-2 my-lg-0" role="search">
        <input type="search" class="form-control me-sm-2" aria-label="Toggle navigation" name="search-input" data-search-index="search.json" id="search-input" placeholder="Search for" autocomplete="off">
</form>

      <ul class="navbar-nav">
<li class="nav-item">
  <a class="external-link nav-link" href="https://github.com/trfore/matools/" aria-label="github">
    <span class="fab fa fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>

    
  </div>
</nav><div class="container template-home">
<div class="row">
  <main id="main" class="col-md-9"><div class="section level1">
<div class="page-header"><h1 id="matools">matools<a class="anchor" aria-label="anchor" href="#matools"></a>
</h1></div>
<p>This package provides a set of tools to transform (.asc) files exported from Mini Analysis (Synaptosoft) into R data objects; calculate and plot common metrics used in neuroscience.</p>
<p>Mini Analysis by Synaptosoft is a widely used program among neuroscientist to automatically detect (and manually select) synaptic events from electrophysiological recordings. While the software still executes on the latest windows OS, Windows 10, it is no longer actively developed and several features do not work. Users are still able to export the core file (*.asc) and perform manual analysis. This R package, matools, is designed to automate analysis and provide functional figures.</p>
<p>This package was created to solve the following problems:</p>
<ol style="list-style-type: decimal">
<li><p>Import synaptosoft’s files (*.asc) into data.frame/tibbles for wide-spread analysis within R. Additionally, you can directly convert .asc to .csv file with proper column names.</p></li>
<li>
<p>Extract and transform the raw values into common metrics within the neuroscience community including:</p>
<ul>
<li>Inter-event Interval (ms)</li>
<li>Paired-Pulse Ratio (PPR)</li>
<li>Jitter (ms)</li>
</ul>
</li>
<li>
<p>Generate a standard set of graphs for quick analysis, including:</p>
<ul>
<li>Amplitude heatmaps &amp; scatterplots</li>
<li>User-defined metric (e.g. amplitude, failure-rate, ect…) group average</li>
<li>Spike rasters</li>
</ul>
</li>
<li><p>This analysis package is also expandable to automatically check and run such analysis when a new data file or meta file entry is added to a public Google Sheets file via the R Package <code>googlesheets</code>. See <a href="https://www.github.com/trfore/chat-project" class="external-link">github.com/trfore/chat-project</a> for documentation and a working example; or the help page for <code><a href="reference/import_experiment_parameters.html">import_experiment_parameters()</a></code>.</p></li>
<li><p>Additionally, the graphs (.pdf) used in the publication Fore et al. 2020 (DOI: <a href="https://doi.org/10.1523/JNEUROSCI.2148-19.2020" class="external-link uri">https://doi.org/10.1523/JNEUROSCI.2148-19.2020</a>) can be generated and modified to fit your own analysis. See <a href="https://www.github.com/trfore/chat-project" class="external-link">github.com/trfore/chat-project</a> for documentation on generating and modifying such figures.</p></li>
</ol>
<div class="section level2">
<h2 id="installation">Installation<a class="anchor" aria-label="anchor" href="#installation"></a>
</h2>
<p>The latest development version can be installed from github:</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># install.packages("devtools")</span></span>
<span><span class="fu">devtools</span><span class="fu">::</span><span class="fu">install_github</span><span class="op">(</span><span class="st">"trfore/matools"</span><span class="op">)</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="matools-example">matools Example<a class="anchor" aria-label="anchor" href="#matools-example"></a>
</h2>
<ul>
<li>Basic example that will import a demo .asc file; add sweep and stimulus numbers; and plot the amplitude of the first event after a stimulus.</li>
</ul>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/trfore/matools" class="external-link">matools</a></span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_file_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/demo_data"</span>,</span>
<span>  <span class="st">"cell2.ASC"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"matools"</span>,</span>
<span>  mustWork <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span><span class="va">test_param_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html" class="external-link">system.file</a></span><span class="op">(</span><span class="st">"extdata/demo_data"</span>,</span>
<span>  <span class="st">"demo_data_project_parameters.csv"</span>,</span>
<span>  package <span class="op">=</span> <span class="st">"matools"</span>,</span>
<span>  mustWork <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># load and modify the data</span></span>
<span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/asc_to_tibble.html">asc_to_tibble</a></span><span class="op">(</span>file_path <span class="op">=</span> <span class="va">test_file_path</span>, merge_iei <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create env to store data parameters</span></span>
<span><span class="fu"><a href="reference/set_pkg_environment.html">set_pkg_environment</a></span><span class="op">(</span>force_new <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/import_experiment_parameters.html">import_experiment_parameters</a></span><span class="op">(</span>file <span class="op">=</span> <span class="va">test_param_path</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/set_experiment_parameters.html">set_experiment_parameters</a></span><span class="op">(</span><span class="va">matools_env</span><span class="op">$</span><span class="va">parameters</span>, filename <span class="op">=</span> <span class="st">"cell2"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_sweep_number_to_rows.html">add_sweep_number_to_rows</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">test_df</span>,</span>
<span>  sweep_duration <span class="op">=</span> <span class="va">matools_env</span><span class="op">$</span><span class="va">sweep_duration_sec</span>,</span>
<span>  sweep_count <span class="op">=</span> <span class="va">matools_env</span><span class="op">$</span><span class="va">sweep_total</span>,</span>
<span>  time_ref <span class="op">=</span> <span class="st">"rec_time_ms"</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_stimulus_index.html">add_stimulus_index</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">test_df</span>,</span>
<span>  time_of_stim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">478.3</span>, <span class="fl">518.3</span><span class="op">)</span>,</span>
<span>  isi <span class="op">=</span> <span class="fl">40</span>,</span>
<span>  sweep_count <span class="op">=</span> <span class="fl">281</span>,</span>
<span>  add_missing <span class="op">=</span> <span class="cn">TRUE</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="co"># create drug parameter matrix</span></span>
<span><span class="va">experiment_parameters</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tibble.html" class="external-link">tibble</a></span><span class="op">(</span></span>
<span>  condition_start <span class="op">=</span> <span class="va">matools_env</span><span class="op">$</span><span class="va">condition_starts</span>,</span>
<span>  condition_end <span class="op">=</span> <span class="va">matools_env</span><span class="op">$</span><span class="va">condition_ends</span>,</span>
<span>  condition <span class="op">=</span> <span class="va">matools_env</span><span class="op">$</span><span class="va">condition_names</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="va">test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="reference/add_condition_tag.html">add_condition_tag</a></span><span class="op">(</span></span>
<span>  df <span class="op">=</span> <span class="va">test_df</span>,</span>
<span>  parameters <span class="op">=</span> <span class="va">experiment_parameters</span></span>
<span><span class="op">)</span></span>
<span></span>
<span><span class="fu"><a href="https://rdrr.io/r/utils/View.html" class="external-link">View</a></span><span class="op">(</span><span class="va">test_df</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># simple plot</span></span>
<span><span class="va">plot_data</span> <span class="op">&lt;-</span> <span class="va">test_df</span> <span class="op">%&gt;%</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="va">stimulus</span> <span class="op">==</span> <span class="fl">1</span><span class="op">)</span></span>
<span><span class="fu"><a href="reference/plot_scatterplot_amplitude.html">plot_scatterplot_amplitude</a></span><span class="op">(</span>df <span class="op">=</span> <span class="va">plot_data</span>, sweep_duration <span class="op">=</span> <span class="fl">5</span>, ymax <span class="op">=</span> <span class="fl">250</span><span class="op">)</span></span></code></pre></div>
<ul>
<li>More complex data processing workflows are provided in <code>R/workflows.R</code> and are viewable within R by calling <code><a href="https://rdrr.io/r/utils/getAnywhere.html" class="external-link">getAnywhere()</a></code> on <code><a href="reference/analysis_evoked_ap.html">analysis_evoked_ap()</a></code> or <code><a href="reference/analysis_evoked_psp.html">analysis_evoked_psp()</a></code>. Alternatively, read the package articles at <a href="https://trfore.github.io/matools/articles/" class="uri">https://trfore.github.io/matools/articles/</a>.</li>
<li>Additionally, see <a href="https://www.github.com/trfore/chat-project" class="external-link">github.com/trfore/chat-project</a> for full analysis workflows.</li>
</ul>
</div>
</div>
  </main><aside class="col-md-3"><div class="links">
<h2 data-toc-skip>Links</h2>
<ul class="list-unstyled">
<li><a href="https://github.com/trfore/matools/" class="external-link">Browse source code</a></li>
<li><a href="https://github.com/trfore/matools/issues" class="external-link">Report a bug</a></li>
</ul>
</div>

<div class="license">
<h2 data-toc-skip>License</h2>
<ul class="list-unstyled">
<li>
<a href="https://opensource.org/licenses/mit-license.php" class="external-link">MIT</a> + file <a href="LICENSE-text.html">LICENSE</a>
</li>
</ul>
</div>

<div class="developers">
<h2 data-toc-skip>Developers</h2>
<ul class="list-unstyled">
<li>The package maintainer <br><small class="roles"> Maintainer </small>  </li>
</ul>
</div>

  </aside>
</div>


    <footer><div class="pkgdown-footer-left">
  <p></p>
<p>Developed by The package maintainer.</p>
</div>

<div class="pkgdown-footer-right">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

    </footer>
</div>

  

  

  </body>
</html>
